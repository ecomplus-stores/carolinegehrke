(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{172:function(t,e,i){"use strict";var s=i(28),n=i(43),r=i(44),o=i(45),a=i(80);const l=(t,e)=>{const{type:i,value:s}=e;if(s)return"percentage"===i?t*(100-s)/100:t-s};var c={name:"APrices",props:{product:{type:Object,required:!0},isLiteral:Boolean,isBig:Boolean,isAmountTotal:Boolean,installmentsOption:Object,discountOption:Object,discountText:{type:[String,Boolean],default:""}},data(){return{installmentsNumber:0,monthlyInterest:0,discount:{type:null,value:0},extraDiscount:{type:null,value:0},discountLabel:this.discountText}},computed:{i19asOf:()=>Object(n.a)(s.o),i19from:()=>Object(n.a)(s.xb),i19interestFree:()=>Object(n.a)(s.Kb),i19of:()=>Object(n.a)(s.sc),i19to:()=>Object(n.a)(s.Hd),i19upTo:()=>Object(n.a)(s.Qd),price(){const t=Object(r.a)(this.product);return this.extraDiscount.value?l(t,this.extraDiscount):t},comparePrice(){return Object(o.a)(this.product)?this.product.base_price:this.extraDiscount.value?Object(r.a)(this.product):void 0},hasVariedPrices(){const{variations:t}=this.product;if(t){const e=Object(r.a)(this.product);for(let i=0;i<t.length;i++){if(Object(r.a)({...this.product,...t[i]})>e)return!0}}return!1},priceWithDiscount(){return l(this.price,this.discount)},installmentValue(){if(this.installmentsNumber>=2){if(this.monthlyInterest){const t=this.monthlyInterest/100;return this.price*t/(1-Math.pow(1+t,-this.installmentsNumber))}return this.price/this.installmentsNumber}return 0}},methods:{formatMoney:a.a,updateInstallments(t){if(t){this.monthlyInterest=t.monthly_interest;const e=t.min_installment||5,i=parseInt(this.price/e,10);this.installmentsNumber=Math.min(i,t.max_number)}},updateDiscount(t){!t||t.min_amount&&!(t.min_amount<=this.price)||this.isAmountTotal&&"total"!==t.apply_at||(this.discount=t,!this.discountText&&!1!==this.discountText&&t.label&&(this.discountLabel=`via ${t.label}`))}},watch:{price:{handler(t){this.$emit("fix-price",t)},immediate:!0}},created(){const t="object"==typeof window&&window.storefront;if(this.discountOption)this.updateDiscount(this.discountOption);else if(t){const e=()=>{const e=t.info&&t.info.apply_discount;if(e){const t=e.available_extra_discount;return t&&(this.extraDiscount=t),Object.keys(e).length>0}return!1};e()||t.on("info:apply_discount",e)}if(this.installmentsOption)this.updateInstallments(this.installmentsOption);else if(t){const e=()=>{const e=t.info&&t.info.list_payments;return!!e&&(this.updateInstallments(e.installments_option),this.updateDiscount(e.discount_option),Object.keys(e).length>0)};e()||t.on("info:list_payments",e)}}};e.a=c},178:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"prices",class:{"prices--literal":t.isLiteral,"prices--big":t.isBig}},[t.comparePrice?i("span",{staticClass:"prices__compare"},[t.isLiteral?[i("small",[t._v(" "+t._s(t.i19from)+" ")]),i("s",[t._v(t._s(t.formatMoney(t.comparePrice)))]),i("small",[t._v(" "+t._s(t.i19to)+" ")])]:i("s",[t._v(t._s(t.formatMoney(t.comparePrice)))])],2):t._e(),i("strong",{staticClass:"prices__value",attrs:{"data-price__base":t.price}},[t.hasVariedPrices?i("small",[t._v(" "+t._s(t.i19asOf)+" ")]):t._e(),t._v(" "+t._s(t.formatMoney(t.price))+" "),t.installmentsNumber>1?i("div",{key:"installments",staticClass:"prices__installments"},[t.isLiteral?i("small",[t._v(" "+t._s(t.i19upTo)+" ")]):t._e(),t._v(" "+t._s(t.installmentsNumber)+"x "),t.isLiteral?i("small",[t._v(" "+t._s(t.i19of)+" ")]):t._e(),i("span",[t._v(" "+t._s(t.formatMoney(t.installmentValue))+" ")]),!t.monthlyInterest&&t.isLiteral?i("small",[t._v(" "+t._s(t.i19interestFree)+" ")]):t._e()]):t._e()]),i("transition-group",{attrs:{"enter-active-class":"animated slideInDown"}},["number"==typeof t.priceWithDiscount&&t.priceWithDiscount<t.price?i("div",{key:"discount",staticClass:"prices__discount"},["string"==typeof t.discountLabel&&t.discountLabel?[i("span",[t._v(" "+t._s(t.formatMoney(t.priceWithDiscount))+" ")]),i("small",{staticClass:"prices__discount-label"},[t._v(" "+t._s(t.discountLabel)+" ")])]:[i("small",[t._v(" "+t._s(t.i19asOf)+" ")]),i("span",[t._v(" "+t._s(t.formatMoney(t.priceWithDiscount))+" ")])]],2):t._e()])],1)},n=[]},233:function(t,e,i){var s=i(247);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i(176).default)("02acad6a",s,!0,{})},243:function(t,e,i){"use strict";var s=i(28),n=i(43),r=i(80);var o={name:"ShippingLine",props:{shippingLine:{type:Object,required:!0}},computed:{deadlineStr(){const t=this.shippingLine,e=t.posting_deadline&&t.posting_deadline.working_days||t.delivery_time&&t.delivery_time.working_days;let i=t.posting_deadline?t.posting_deadline.days:0;return t.delivery_time&&(i+=t.delivery_time.days),i>1?`${Object(n.a)(s.Qd)} ${i} `+Object(n.a)(e?s.Xd:s.Z).toLowerCase():Object(n.a)(1===i?s.Pd:t.pick_up?"Retire hoje":s.Rc)},freightValueStr(){const{shippingLine:t}=this,e="number"==typeof t.total_price?t.total_price:t.price;return e?Object(r.a)(e):Object(n.a)(t.pick_up?s.sb:s.tb)}}},a=(i(246),i(52)),l=Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shipping-line"},[i("strong",{staticClass:"mr-2"},[t._v(" "+t._s(t.deadlineStr)+" ")]),i("span",{staticClass:"mr-2"},[t._v(" "+t._s(t.freightValueStr)+" ")]),t.shippingLine.delivery_instructions?i("small",[t._v(" "+t._s(t.shippingLine.delivery_instructions)+" ")]):t._e()])}),[],!1,null,null,null);e.a=l.exports},246:function(t,e,i){"use strict";i(233)},247:function(t,e,i){(e=i(175)(!0)).push([t.i,".shipping-line>strong{display:inline-block;min-width:120px}.shipping-line>span{display:inline-block}.shipping-line>small{display:block;display:-webkit-box;line-height:var(--line-height-sm);-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;color:var(--text-muted)}","",{version:3,sources:["ShippingLine.scss"],names:[],mappings:"AAAA,sBAAsB,oBAAoB,CAAC,eAAe,CAAC,oBAAoB,oBAAoB,CAAC,qBAAqB,aAAa,CAAC,mBAAmB,CAAC,iCAAiC,CAAC,oBAAoB,CAAC,2BAA2B,CAAC,eAAe,CAAC,uBAAuB",file:"ShippingLine.scss",sourcesContent:[".shipping-line>strong{display:inline-block;min-width:120px}.shipping-line>span{display:inline-block}.shipping-line>small{display:block;display:-webkit-box;line-height:var(--line-height-sm);-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;color:var(--text-muted)}"]}]),t.exports=e},298:function(t,e,i){var s=i(363);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i(176).default)("60cdd274",s,!0,{})},362:function(t,e,i){"use strict";i(298)},363:function(t,e,i){(e=i(175)(!0)).push([t.i,".order{min-height:300px}","",{version:3,sources:["EcOrder.scss"],names:[],mappings:"AAAA,OAAO,gBAAgB",file:"EcOrder.scss",sourcesContent:[".order{min-height:300px}"]}]),t.exports=e},382:function(t,e,i){"use strict";i.r(e);var s=i(112),n=i(3),r=i(53),o={name:"EcOrder",components:{EcOrderInfo:i(270).a},props:{order:{type:Object,required:!0},skipDataLoad:{type:Boolean},accountOrdersUrl:{type:String,default:"/app/#/account/orders"},ecomPassport:{type:Object,default:()=>r.a}},data(){return{isReady:this.skipDataLoad,orderBody:{_id:"",...this.order}}},computed:{localOrder:{get(){return this.orderBody},set(t){this.orderBody=t,this.$emit("update:order",t)}}},methods:{fetchOrder(){const t=`/orders/${this.orderBody._id}.json`;(this.ecomPassport.checkLogin()?this.ecomPassport.requestApi(t):Object(n.g)({url:t})).then((({data:t})=>{this.localOrder=t,this.isReady=!0}))}},watch:{"order._id"(t){t&&t!==this.orderBody._id&&(this.orderBody=this.order)},"orderBody._id"(t){t&&!this.skipDataLoad&&this.fetchOrder()}},created(){this.skipDataLoad||(this.order._id?this.fetchOrder():this.order.number&&this.ecomPassport.fetchOrdersList().then((t=>{this.localOrder=t.find((({number:t})=>t===this.order.number))||{}})))}},a=(i(362),i(52)),l={name:"order",components:{EcOrder:Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{staticClass:"order"},[i("transition-group",{attrs:{"enter-active-class":"animated fadeIn slow"}},[t.isReady?i("ec-order-info",{key:"info",attrs:{order:t.localOrder,"skip-first-data-load":""},on:{"update:order":function(e){t.localOrder=e}}}):i("div",{key:"loading"},[i("div",{staticClass:"spinner-border",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[t._v("Loading...")])])])],1)],1)}),[],!1,null,null,null).exports},computed:{...Object(s.c)(["orders"]),number(){const t=this.$route.params.number;return/^[0-9]+$/.test(t)&&parseInt(t,10)},order(){const t=this.orders.find((({_id:t,number:e})=>this.number===e||this.$route.params.number===t));if(!t){const{number:t}=this;return t?{_id:this.$route.params.id,number:t}:{_id:this.$route.params.number}}return t}}},c=Object(a.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"order"}},[i("ec-order",{attrs:{order:t.order}})],1)}),[],!1,null,null,null);e.default=c.exports}}]);